(function(e){function t(t){for(var a,s,o=t[0],l=t[1],d=t[2],p=0,u=[];p<o.length;p++)s=o[p],Object.prototype.hasOwnProperty.call(r,s)&&r[s]&&u.push(r[s][0]),r[s]=0;for(a in l)Object.prototype.hasOwnProperty.call(l,a)&&(e[a]=l[a]);c&&c(t);while(u.length)u.shift()();return i.push.apply(i,d||[]),n()}function n(){for(var e,t=0;t<i.length;t++){for(var n=i[t],a=!0,o=1;o<n.length;o++){var l=n[o];0!==r[l]&&(a=!1)}a&&(i.splice(t--,1),e=s(s.s=n[0]))}return e}var a={},r={app:0},i=[];function s(t){if(a[t])return a[t].exports;var n=a[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,s),n.l=!0,n.exports}s.m=e,s.c=a,s.d=function(e,t,n){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},s.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(s.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)s.d(n,a,function(t){return e[t]}.bind(null,a));return n},s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],l=o.push.bind(o);o.push=t,o=o.slice();for(var d=0;d<o.length;d++)t(o[d]);var c=l;i.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},3080:function(e,t,n){},"53c0":function(e,t,n){"use strict";n("b790")},"56d7":function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var a=n("2b0e"),r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.info?n("div",[e.mode?n("playlist-main",{attrs:{"playlist-id":e.info.playlistId,"channel-id":e.info.channelId,"polling-interval":e.info.pollingInterval}}):n("playlist-secondary",{attrs:{"playlist-id":e.info.playlistId,"channel-id":e.info.channelId}})],1):e._e()},i=[],s=n("5530"),o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("section",{staticClass:"eyp-wrapper"},[n("div",{staticClass:"eyp-header-container"},[n("div",{staticClass:"eyp-header"},e._l(e.videoItems,(function(t,a){return n("h3",[n("a",{attrs:{target:"_blank",href:"https://www.youtube.com/watch?v="+t.id}},[e.hasSeenNewestVideo?n("span",{staticStyle:{color:"crimson"}},[e._v("Video:")]):n("span",{staticStyle:{color:"crimson","padding-right":"15px"},attrs:{"data-badge":"Mới"}},[e._v("Video:")]),e._v(" "+e._s(e.headerText)+" ")])])})),0)]),n("div",{staticClass:"eyp-subscription-container"},[n("div",{staticClass:"g-ytsubscribe",attrs:{"data-channelid":e.channelId,"data-layout":"default","data-count":"default"}})]),n("div",{staticClass:"eyp-container"},[n("div",{staticClass:"eyp-slider"},[e._l(e.videoItems,(function(t,a){return n("input",{key:t.id,staticClass:"eyp-slider-target",attrs:{type:"radio",name:"slider",id:"eyp-slide-"+t.id},domProps:{checked:t===e.selectedVideoItem},on:{change:function(n){return e.selectVideo(t)}}})})),n("div",{staticClass:"eyp-slider__viewport"},[n("div",{staticClass:"eyp-slider__viewbox"},[n("div",{staticClass:"eyp-slider__container"},e._l(e.videoItems,(function(t,a){return n("div",{key:t.id,class:"eyp-slider-item",attrs:{index:a}},[n("div",{staticClass:"eyp-slider-item__inner"},[t.type?n("div",{staticClass:"eyp-load-more-container",attrs:{id:"eyp-slide-"+t.id}},[n("button",{staticClass:"eyp-load-more-btn",on:{click:function(n){return e.fetchPlaylist(t.type)}}},[e._v(e._s(t.btnText)+" ")])]):n("div",{attrs:{id:"eyp-slide-"+t.id},domProps:{innerHTML:e._s(t.playerHtml)}}),n("label",{class:"eyp-slider-item__trigger",attrs:{for:"eyp-slide-"+t.id,title:""}})])])})),0)])])],2)]),n("div",{ref:"eypMContainer",staticClass:"eyp-m-container"},[n("div",{ref:"eypMSlider",staticClass:"eyp-m-slider"},[n("div",{ref:"eypMSlides",staticClass:"eyp-m-slides"},[e._l(e.videoItems,(function(t,a){return[t.type?n("div",{ref:"eypMSlide#"+t.id,refInFor:!0,staticClass:"eyp-m-slide eyp-load-more-container",staticStyle:{"min-height":"270px"},attrs:{id:"eyp-m-slide-"+t.id}},[n("button",{staticClass:"eyp-load-more-btn",on:{click:function(n){return e.fetchPlaylist(t.type)}}},[e._v(e._s(t.btnText)+" ")])]):n("div",{key:t.id,ref:"eypMSlide#"+t.id,refInFor:!0,attrs:{id:"eyp-m-slide-"+t.id},domProps:{innerHTML:e._s(t.playerHtml)}})]}))],2),e._l(e.videoItems,(function(t,a){return n("a",{key:t.id,attrs:{id:"eyp-m-ref-slide-"+t.id,href:"javascript: void(0)"},on:{click:function(n){return e.selectVideo(t)}}},[e._v(e._s(e._f("linkLabel")(t,e.videoItems)))])}))],2)])])},l=[],d=n("2909"),c=n("1da1"),p=(n("96cf"),n("a9e3"),n("4de4"),n("d3b7"),n("ac1f"),n("5319"),n("7db0"),n("159b"),n("d81d"),n("466d"),n("99af"),n("3ca3"),n("ddb0"),n("9861"),n("e9c4"),n("bc3a")),u=n.n(p),f="https://youtube.googleapis.com/youtube/v3",y="".concat(f),m=u.a.create({baseURL:y}),h="/playlistItems",v={get:function(e){return m.get("".concat(h),{params:e})}},g="/videos",b={get:function(e){return m.get("".concat(g),{params:e})}},S={name:"PlaylistMain",components:{},props:{channelId:String,playlistId:String,pollingInterval:{type:Number,default:3e5}},filters:{linkLabel:function(e,t){return e.type?e.btnText:t.filter((function(e){return 0===e.type})).indexOf(e)+1}},mounted:function(){var e=this;this.mSlideObserver=new IntersectionObserver((function(t){var n;if(null!==(n=t[0])&&void 0!==n&&n.isIntersecting){var a=t[0].target.id.replace("eyp-m-slide-",""),r=e.videoItems.find((function(e){return e.id===a}));e.selectVideo(r,!0)}}),{root:document.querySelector(".eyp-m-slides"),rootMargin:"0px",threshold:[.9]}),localStorage.getItem("newestVideoSeen")&&(this.newestVideoSeen=JSON.parse(localStorage.getItem("newestVideoSeen"))),this.fetchPlaylist(0,!1)},data:function(){return{videoItems:[],size:5,total:0,prevPageToken:null,nextPageToken:null,selectedVideoItem:null,newestVideoSeen:null,hasSeenNewestVideo:!1,mSlideObserver:null}},computed:{headerText:function(){return this.newestVideoSeen?this.newestVideoSeen.title:"Không tìm thấy video"}},methods:{test:function(){var e=this;this.videoItems=[{type:0,id:"img1",imgSrc:"image-1.jpg"},{type:0,id:"img2",imgSrc:"image-2.jpg"},{type:0,id:"img3",imgSrc:"image-3.png"},{type:0,id:"img4",imgSrc:"image-4.jpg"},{type:0,id:"img5",imgSrc:"image-5.jpg"},{type:0,id:"img6",imgSrc:"image-6.jpg"},{type:1,id:">",btnText:">"}],this.selectVideo(this.videoItems[0]),setTimeout((function(){e.videoItems.forEach((function(t){var n=document.getElementById("eyp-m-slide-".concat(t.id));e.mSlideObserver.observe(n)}))}))},fetchPlaylist:function(e){var t=arguments,n=this;return Object(c["a"])(regeneratorRuntime.mark((function a(){var r;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(r=t.length>1&&void 0!==t[1]&&t[1],a.prev=1,n.playlistId){a.next=4;break}return a.abrupt("return");case 4:return a.next=6,n.fetchPlaylistItems(e,r);case 6:a.next=11;break;case 8:a.prev=8,a.t0=a["catch"](1),console.error(a.t0);case 11:case"end":return a.stop()}}),a,null,[[1,8]])})))()},convertDataAndSelectDefault:function(e,t){var n=t.data.items.map((function(e){var t,n=e.player.embedHtml.match(/src="[^(\s|")]+/g),a="".concat(n,"?enablejsapi=1");return{id:e.id,title:e.snippet.title,playerHtml:e.player.embedHtml.replace(n,a),type:0,thumbnail:null===(t=e.snippet.thumbnails.standard)||void 0===t?void 0:t.url}})),a=[],r=0;this.prevPageToken&&(a=[{type:-1,id:"<",btnText:"<"}]);var i=[];this.nextPageToken&&(i=[{type:1,id:">",btnText:">"}]),e>0?r=0:e<0&&(r=n.length-1),this.videoItems=[].concat(Object(d["a"])(a),Object(d["a"])(n),Object(d["a"])(i)),this.selectVideo(n[r])},fetchPlaylistItems:function(e){var t=arguments,n=this;return Object(c["a"])(regeneratorRuntime.mark((function a(){var r,i,s,o,l,d,c,p;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return r=t.length>1&&void 0!==t[1]&&t[1],i=new URLSearchParams,i.append("part","contentDetails"),i.append("part","id"),i.append("part","snippet"),i.append("part","status"),i.append("key","AIzaSyAq9YUJhA6zruSRQMXM-r_OJ8Yo4wkxH9Y"),i.append("playlistId",n.playlistId),i.append("maxResults","5"),e>0?i.append("pageToken",n.nextPageToken):e<0&&i.append("pageToken",n.prevPageToken),a.next=12,v.get(i);case 12:if(s=a.sent,o=s.data.items,l=o.map((function(e){return e.contentDetails.videoId})),d=s.data.items.length?s.data.items[0]:null,0!==e){a.next=31;break}if(n.newestVideoSeen?d&&(n.hasSeenNewestVideo=n.newestVideoSeen.id===d.contentDetails.videoId):d&&(n.hasSeenNewestVideo=!1,n.newestVideoSeen={id:d.contentDetails.videoId,title:d.snippet.title}),!d){a.next=29;break}if(localStorage.setItem("newestVideoSeen",JSON.stringify({id:d.contentDetails.videoId,title:d.snippet.title})),(n.hasSeenNewestVideo||!r)&&r){a.next=29;break}return n.size=s.data.pageInfo.resultPerPage,n.total=s.data.pageInfo.totalResults,n.prevPageToken=s.data.prevPageToken,n.nextPageToken=s.data.nextPageToken,a.next=27,n.fetchVideos(l);case 27:c=a.sent,n.convertDataAndSelectDefault(e,c);case 29:a.next=40;break;case 31:if(1!==e&&-1!==e){a.next=40;break}return n.size=s.data.pageInfo.resultPerPage,n.total=s.data.pageInfo.totalResults,n.prevPageToken=s.data.prevPageToken,n.nextPageToken=s.data.nextPageToken,a.next=38,n.fetchVideos(l);case 38:p=a.sent,n.convertDataAndSelectDefault(e,p);case 40:return a.abrupt("return",s);case 41:case"end":return a.stop()}}),a)})))()},fetchVideos:function(){var e=arguments;return Object(c["a"])(regeneratorRuntime.mark((function t(){var n,a,r,i,s,o,l;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:for(n=new URLSearchParams,n.append("part","contentDetails"),n.append("part","id"),n.append("part","snippet"),n.append("part","status"),n.append("part","player"),n.append("key","AIzaSyAq9YUJhA6zruSRQMXM-r_OJ8Yo4wkxH9Y"),a=e.length,r=new Array(a),i=0;i<a;i++)r[i]=e[i];for(s=0,o=r;s<o.length;s++)l=o[s],n.append("id",l);return t.next=11,b.get(n);case 11:return t.abrupt("return",t.sent);case 12:case"end":return t.stop()}}),t)})))()},selectVideo:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a="none"!==window.getComputedStyle(this.$refs.eypMContainer).display;if(e!==this.selectedVideoItem&&this.selectedVideoItem){var r=a?document.querySelector("div#eyp-m-slide-".concat(this.selectedVideoItem.id," iframe")):document.querySelector("div#eyp-slide-".concat(this.selectedVideoItem.id," iframe"));r&&r.contentWindow.postMessage('{"event":"command","func":"pauseVideo","args":""}',"*")}this.selectedVideoItem=e,!n&&0===e.type&&a&&setTimeout((function(){var n=t.$refs["eypMSlide#".concat(e.id)][0];n&&n.scrollIntoView({behavior:"smooth"})}))}}},w=S,I=(n("53c0"),n("2877")),x=Object(I["a"])(w,o,l,!1,null,"3bf01216",null),_=x.exports,k=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("section",{staticClass:"eyp-wrapper"},[n("div",{staticClass:"eyp-header-container"},[n("div",{staticClass:"eyp-header"},e._l(e.videoItems,(function(t,a){return n("h4",[n("span",{staticStyle:{color:"red","font-weight":"bolder"}},[e._v("Video: ")]),n("a",{attrs:{target:"_blank",href:"https://www.youtube.com/watch?v="+t.id}},[e._v(" "+e._s(t.title)+" ")])])})),0)]),n("div",{staticClass:"eyp-subscription-container"},[n("div",{staticClass:"g-ytsubscribe",attrs:{"data-channelid":e.channelId,"data-layout":"default","data-count":"default"}})]),e.playerSrc?n("div",{staticClass:"eyp-container",domProps:{innerHTML:e._s(e.playerSrc)}}):e._e()])])},P=[],O="/playlists",V={get:function(e){return m.get("".concat(O),{params:e})}},T={name:"PlaylistSecondary",props:{channelId:String,playlistId:String},mounted:function(){var e=this;return Object(c["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.fetchPlaylistDetail();case 2:return n=t.sent,t.next=5,e.fetchPlaylistItems(n);case 5:case"end":return t.stop()}}),t)})))()},data:function(){return{playerSrc:null,videoItems:[]}},methods:{fetchPlaylistDetail:function(){var e=this;return Object(c["a"])(regeneratorRuntime.mark((function t(){var n,a,r,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=new URLSearchParams,n.append("part","contentDetails"),n.append("part","id"),n.append("part","player"),n.append("part","snippet"),n.append("part","status"),n.append("key","AIzaSyAq9YUJhA6zruSRQMXM-r_OJ8Yo4wkxH9Y"),e.playlistId?n.append("id",e.playlistId):n.append("channelId",e.channelId),n.append("maxResults","1"),t.next=11,V.get(n);case 11:if(a=t.sent,!a.data.items.length){t.next=23;break}return e.playerSrc=a.data.items[0].player.embedHtml,console.log(e.playerSrc),r=e.playerSrc.match(/(height="\d+")/g),e.playerSrc=e.playerSrc.replace(r,'height="90%"'),i=e.playerSrc.match(/width="\d+"/g),e.playerSrc=e.playerSrc.replace(i,'width="93%"'),e.playerSrc=e.playerSrc.replace("http:","https:"),t.abrupt("return",a.data.items[0].id);case 23:return t.abrupt("return",null);case 24:case"end":return t.stop()}}),t)})))()},fetchPlaylistItems:function(e){var t=this;return Object(c["a"])(regeneratorRuntime.mark((function n(){var a,r;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return a=new URLSearchParams,a.append("part","contentDetails"),a.append("part","id"),a.append("part","snippet"),a.append("part","status"),a.append("key","AIzaSyAq9YUJhA6zruSRQMXM-r_OJ8Yo4wkxH9Y"),a.append("playlistId",e),a.append("maxResults","5"),n.next=10,v.get(a);case 10:r=n.sent,t.videoItems=r.data.items.map((function(e){return{id:e.snippet.resourceId.videoId,title:e.snippet.title}})),setTimeout((function(){var e=document.querySelector(".eyp-header");e.style.animationDuration=e.clientWidth/100+"s"}),0);case 13:case"end":return n.stop()}}),n)})))()}}},j=T,C=(n("f27d"),Object(I["a"])(j,k,P,!1,null,"3565f88e",null)),M=C.exports,R={channelId:"UCae_bZXgQM6ga2_dAo5A-Pg",playlistId:"PLSgEVW8-8rnAz34S07_z_05ynlJftlvZE",pollingInterval:3e5},A={name:"App",components:{PlaylistSecondary:M,PlaylistMain:_},created:function(){window.hasOwnProperty("eypInfo")?this.info=Object(s["a"])(Object(s["a"])({},R),eypInfo):this.info=Object(s["a"])({},R),console.log(this.info)},data:function(){return{mode:0,info:null}}},D=A,z=(n("dda2"),Object(I["a"])(D,r,i,!1,null,null,null)),H=z.exports;if(!J)var J="#app";new a["a"](H).$mount(J)},b790:function(e,t,n){},dda2:function(e,t,n){"use strict";n("ff10")},f27d:function(e,t,n){"use strict";n("3080")},ff10:function(e,t,n){}});
//# sourceMappingURL=app.js.map